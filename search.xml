<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>VM+JDK+Tomacat</title>
      <link href="2021/05/17/VM-JDK-Tomacat/"/>
      <url>2021/05/17/VM-JDK-Tomacat/</url>
      
        <content type="html"><![CDATA[<h3 id="卸载openJDK"><a href="#卸载openJDK" class="headerlink" title="卸载openJDK"></a>卸载openJDK</h3><hr><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep java</span><br><span class="line"># sudo rpm -e --nodeps 卸载包</span><br><span class="line">rpm -e `rpm -qa | grep java` --allmatches --nodeps</span><br></pre></td></tr></table></figure><h3 id="安装JDK8"><a href="#安装JDK8" class="headerlink" title="安装JDK8"></a>安装JDK8</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># JDK下载地址，选择 Linux-x64.tar.gz版本</span><br><span class="line"># http://www.oracle.com/technetwork/java/javase/downloads/index.html</span><br><span class="line"># 此处用的虚拟机，不要直接在共享文件夹解压，此处复制到其它文件夹</span><br><span class="line">cp -Rf /mnt/hgfs/jdk-8u291-linux-x64.tar.gz /opt/sun</span><br><span class="line"># 解压安装</span><br><span class="line">tar -zxvf jdk-8u291-linux-x64.tar.gz</span><br><span class="line"># 配置环境变量，追加四行信息如分割线之间</span><br><span class="line">vim /etc/profile</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">#java environment</span><br><span class="line">export JAVA_HOME=/opt/sun/jdk1.8.0_291</span><br><span class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/jre/lib/rt.jar:$&#123;JAVA_HOME&#125;/lib/dt.jar:$&#123;JAVA_HOME&#125;/lib/tools.jar</span><br><span class="line">export PATH=$PATH:$&#123;JAVA_HOME&#125;/bin</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line"># 使配置文件生效</span><br><span class="line">source /etc/profile</span><br><span class="line"># 检查是否成功</span><br><span class="line">java -version</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="安装Tomcat"><a href="#安装Tomcat" class="headerlink" title="安装Tomcat"></a>安装Tomcat</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 1.安装Tomcat之前一定要确定jdk已经安装成功。</span><br><span class="line"># 2.安装准备，下载Tomcat安装包，选择Binary-tar.gz版本</span><br><span class="line"># 官网： http://tomcat.apache.org/download-80.cgi</span><br><span class="line"># 下载完之后使用移动到/opt/sun下</span><br><span class="line">cp -Rf /mnt/hgfs/apache-tomcat-8.5.65.tar.gz /opt/sun</span><br><span class="line"># 3.到相应目录解压文档</span><br><span class="line">tar –zxvf apache-tomcat-8.5.65.tar.gz</span><br><span class="line"># 4.启动Tomcat</span><br><span class="line"># 进到Tomcat的安装目录下的bin目录</span><br><span class="line"># 注: ./catalina.sh start 和 ./startup.sh 都能启动tomcat。</span><br><span class="line"># 使用 ./catalina.sh stop 或 ./shutdown.sh 停止tomcat。</span><br><span class="line">./catalina.sh start</span><br><span class="line"># 完成后本地访问localhost:8080，检查是否进入Tomcat</span><br></pre></td></tr></table></figure><h3 id="自启动配置"><a href="#自启动配置" class="headerlink" title="自启动配置"></a>自启动配置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">#第一步首先要提前安装好tomcat 然后在/usr/lib/systemd/system目录下添加tomcat8.service 命令如下：</span><br><span class="line">vi /usr/lib/systemd/system/tomcat8.service</span><br><span class="line"></span><br><span class="line">#第二步在里面输入：</span><br><span class="line">[Unit]</span><br><span class="line">Description=Tomcat8</span><br><span class="line">After=syslog.target network.target remote-fs.target nss-lookup.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">Environment=&#x27;JAVA_HOME=/opt/sun/jdk1.8.0_291&#x27;</span><br><span class="line">Environment=&#x27;CATALINA_PID=/opt/sun/apache-tomcat-8.5.56/bin/tomcat.pid&#x27;</span><br><span class="line">Environment=&#x27;CATALINA_HOME=/opt/sun/apache-tomcat-8.5.56/&#x27;</span><br><span class="line">Environment=&#x27;CATALINA_BASE=/opt/sun/apache-tomcat-8.5.56/&#x27;</span><br><span class="line">Environment=&#x27;CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC&#x27;</span><br><span class="line"></span><br><span class="line">WorkingDirectory=/opt/sun/apache-tomcat-8.5.56/</span><br><span class="line"></span><br><span class="line">ExecStart=/opt/sun/apache-tomcat-8.5.56/bin/startup.sh</span><br><span class="line">ExecReload=/bin/kill -s HUP $MAINPID</span><br><span class="line">ExecStop=/bin/kill -s QUIT $MAINPID</span><br><span class="line">PrivateTmp=true</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br><span class="line"># 可能会用到，重载服务以生效</span><br><span class="line">systemctl daemon-reload</span><br><span class="line"></span><br><span class="line">#第三步来配置tomcat 开机启动输入：</span><br><span class="line">systemctl enable tomcat8</span><br><span class="line"></span><br><span class="line">#第四步开始启动tomcat8服务输入：</span><br><span class="line">systemctl start tomcat8</span><br><span class="line"></span><br><span class="line">#最后重启输入：</span><br><span class="line">reboot</span><br><span class="line"></span><br><span class="line">#查看有没有tomcat服务</span><br><span class="line">ps aux | grep tomcat</span><br><span class="line"># 本次调试带gui，直接在浏览器访问localhost:8080</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="虚拟机静态网络配置"><a href="#虚拟机静态网络配置" class="headerlink" title="虚拟机静态网络配置"></a>虚拟机静态网络配置</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 选择的NAT模式默认是动态的IP，这样好像没法上网，测试方法是ping百度</span></span><br><span class="line">ping www.baidu.com</span><br><span class="line"><span class="comment"># 查看ip方法</span></span><br><span class="line">ifconfig</span><br><span class="line"><span class="comment"># 解决方案</span></span><br><span class="line"><span class="comment"># VM编辑-&gt;虚拟网络编辑器-&gt;更改设置(管理员权限)-&gt;VMnet8-&gt;取消勾选DHCP，记录子网IP段</span></span><br><span class="line"><span class="comment"># root权限下更改配置文件</span></span><br><span class="line">cd /etc/sysconfig/network-scripts</span><br><span class="line">ls</span><br><span class="line">一般是ifcfg-ens33</span><br><span class="line">更改内容如下</span><br><span class="line"></span><br><span class="line">TYPE=Ethernet</span><br><span class="line">PROXY_METHOD=none</span><br><span class="line">BROWSER_ONLY=no</span><br><span class="line"><span class="comment">#BOOTPROTO=dhcp</span></span><br><span class="line">DEFROUTE=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=yes</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">IPV6_ADDR_GEN_MODE=stable-privacy</span><br><span class="line">NAME=ens33</span><br><span class="line">UUID=c500a478-a621-42d4-b50e-1bd710003939</span><br><span class="line">DEVICE=ens33</span><br><span class="line"><span class="comment">#ONBOOT=no</span></span><br><span class="line">IPV6_PRIVACY=no</span><br><span class="line"></span><br><span class="line"><span class="comment">#static assignment，IP、网关等设置到和主机同一网段</span></span><br><span class="line">NM_CONTROLLED=no <span class="comment">#表示该接口将通过该配置文件进行设置，而不是通过网络管理器进行管理</span></span><br><span class="line">ONBOOT=yes <span class="comment">#开机启动</span></span><br><span class="line">BOOTPROTO=static <span class="comment">#静态IP</span></span><br><span class="line">IPADDR=<span class="number">222.195</span><span class="number">.148</span><span class="number">.128</span></span><br><span class="line">NETMASK=本机子网掩码</span><br><span class="line">GATEWAY=本机网关</span><br><span class="line">DNS=本机DNS</span><br><span class="line"><span class="comment"># 重启 net</span></span><br><span class="line">service network restart</span><br><span class="line"><span class="comment"># ping百度测试</span></span><br><span class="line">ping www.baidu.com</span><br><span class="line"><span class="comment"># 来源</span></span><br><span class="line"><span class="comment"># https://blog.csdn.net/qq_37141865/article/details/86544320</span></span><br></pre></td></tr></table></figure><hr><p><strong>最后在本机浏览器访问虚拟机地址:192.168.102.128:8080</strong></p><p><strong>进入tomcat界面</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> VM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="2021/05/17/Hello-World/"/>
      <url>2021/05/17/Hello-World/</url>
      
        <content type="html"><![CDATA[<p>Quick Start<br>Create a new post</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new &quot;My New Post&quot;</span><br></pre></td></tr></table></figure><p>Run server</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>Generate static files</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>Deploy to remote sites</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VM+CentOS+MySql</title>
      <link href="2021/05/17/VM-CentOS-MySql/"/>
      <url>2021/05/17/VM-CentOS-MySql/</url>
      
        <content type="html"><![CDATA[<h3 id="下载破解VMware"><a href="#下载破解VMware" class="headerlink" title="下载破解VMware"></a>下载破解VMware</h3><p><a href="https://">https://www.cr173.com/soft/68480.html</a></p><h3 id="centOS镜像"><a href="#centOS镜像" class="headerlink" title="centOS镜像"></a>centOS镜像</h3><p><a href="https://">http://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/</a></p><h3 id="创建虚拟机"><a href="#创建虚拟机" class="headerlink" title="创建虚拟机"></a>创建虚拟机</h3><blockquote><p><a href="https://">https://blog.csdn.net/babyxue/article/details/80970526</a></p></blockquote><p>注意：</p><p>1.需要电脑bios界面开启 IVM</p><p>2.software选择Server with Gui，network 选择Net</p><h3 id="虚拟机共享文件夹"><a href="#虚拟机共享文件夹" class="headerlink" title="虚拟机共享文件夹"></a>虚拟机共享文件夹</h3><p>选择虚拟机 -&gt;虚拟机设置。<br>在选项选项卡中，选择共享文件夹。<br>选择一个文件夹共享选项。</p><p>root中查看是否挂载成功</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">vmware-hgfsclient</span><br><span class="line"># 手动挂载共享目录</span><br><span class="line">mkdir /mnt/hgfs</span><br><span class="line">ls -l /mnt</span><br><span class="line"># 其中VMShare是共享文件夹名，/mnt/hgfs是挂载目录</span><br><span class="line">vmhgfs-fuse .host:/sharetest /mnt/hgfs</span><br><span class="line"># 自动挂载目录，用vim打开/etc/fstab文件，添加一行挂载信息</span><br><span class="line">.host:/VMShare /mnt/hgfs fuse.vmhgfs-fuse allow_other,defaults 0 0</span><br><span class="line"># i插入，：末行，wq保存退出</span><br><span class="line"># 使用mount -a指令让刚刚写入的挂载信息立即生效</span><br><span class="line"># 来源 https://blog.csdn.net/nesxiaogu/article/details/85274626</span><br></pre></td></tr></table></figure><hr><h2 id="数据安装配置"><a href="#数据安装配置" class="headerlink" title="数据安装配置"></a>数据安装配置</h2><p>进入root</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">su root </span><br><span class="line"># 输入密码进入root</span><br></pre></td></tr></table></figure><h3 id="下载Mysql-Yum-Repository"><a href="#下载Mysql-Yum-Repository" class="headerlink" title="下载Mysql Yum Repository"></a>下载Mysql Yum Repository</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm</span><br></pre></td></tr></table></figure><h3 id="安装MySql"><a href="#安装MySql" class="headerlink" title="安装MySql"></a>安装MySql</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install mysql57-community-release-el7-10.noarch.rpm</span><br></pre></td></tr></table></figure><h3 id="安装MySql服务器"><a href="#安装MySql服务器" class="headerlink" title="安装MySql服务器"></a>安装MySql服务器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install mysql-community-server</span><br></pre></td></tr></table></figure><h3 id="MySql相关命令"><a href="#MySql相关命令" class="headerlink" title="MySql相关命令"></a>MySql相关命令</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># 启动MySql</span><br><span class="line">systemctl start  mysqld.service</span><br><span class="line"># 退MySql  </span><br><span class="line">exit;</span><br><span class="line"># 查看MySql状态 </span><br><span class="line">systemctl status mysqld.service</span><br><span class="line"># 查看密码 </span><br><span class="line">grep &quot;password&quot; /var/log/mysqld.log</span><br><span class="line">2021-05-05T14:18:57.201760Z 1 [Note] A temporary password is generated for root@localhost: w_;Ydfet%97k</span><br><span class="line"># 进入数据库 </span><br><span class="line">mysql -uroot -p </span><br><span class="line">输入密码</span><br><span class="line"># 更改密码 </span><br><span class="line">ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;wwwYdfet%97k&#x27;;</span><br><span class="line"># 卸载Repository</span><br><span class="line">yum -y remove mysql57-community-release-el7-10.noarch</span><br><span class="line"># 创建数据库</span><br><span class="line">CREATE DATABASE &#x27;mcu&#x27;;</span><br><span class="line"># 导入数据库,此处文件存于虚拟机共享文件夹中</span><br><span class="line">use mcu;</span><br><span class="line">set names utf8;</span><br><span class="line">source /mnt/hgfs/mcu.sql</span><br><span class="line"># 查看数据库</span><br><span class="line">show tables;</span><br></pre></td></tr></table></figure><h3 id="检查防火墙"><a href="#检查防火墙" class="headerlink" title="检查防火墙"></a>检查防火墙</h3><blockquote><p>（1）设置开机启用防火墙：systemctl enable firewalld.service</p><p>（2）设置开机禁用防火墙：systemctl disable firewalld.service</p><p>（3）启动防火墙：systemctl start firewalld</p><p>（4）关闭防火墙：systemctl stop firewalld</p><p>（5）检查防火墙状态：systemctl status firewalld</p><p>（6）查看IP信息：ifconfig</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> VM </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
